{% load static from staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
  {% block extra_css %}
  <!-- Primero, incluir la libreria de JpegCam -->
  <script src="/static/jpegcam/webcam.js"></script>
  {% endblock extra_css %}
  	<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  	<link rel="icon" type="image/png" href="../assets/img/favicon.png">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
  <title>
    {% block title %}
    Online Examination System
    {% endblock title %}
  </title>
  <style>
    h1 {
      font-size: 2em;
      font-weight: bold;
      color: #777777;
      text-align: center
    }
    table {
      margin: auto;
    }
  </style>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link rel='stylesheet' href="{% static 'css/material-kit.css' %}">
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link rel='stylesheet' href="{% static 'demo/demo.css' %}">
  <link rel='stylesheet' href="{% static 'css/register.css' %}">
  <!-- <link href="../assets/demo/demo.css" rel="stylesheet" /> -->

</head>

<body class="signup-page sidebar-collapse">
{% block content %}

 
  <div class="page-header header-filter" filter-color="purple" >
    
    <div class="container">
      <!-- <div class="row"> -->

        <div class="col-md-9 mr-auto">
          <!-- <div style="margin-left: 140px"> -->
          <div class="card card-signup">

            <h2 class="card-title text-center">Register</h2>
            <!-- <div class="card-body">
              <div class="row"> -->
                
                <!-- <div class="col-md-15 mr-auto"> -->
                  <!-- <div class="social text-center">
                    <button class="btn btn-just-icon btn-round btn-twitter">
                      <i class="fa fa-twitter"></i>
                    </button>
                    <button class="btn btn-just-icon btn-round btn-dribbble">
                      <i class="fa fa-dribbble"></i>
                    </button>
                    <button class="btn btn-just-icon btn-round btn-facebook">
                      <i class="fa fa-facebook"> </i>
                    </button>
                  </div> -->
                  <form name="form" method="POST" action="{% url 'register' %}" enctype="multipart/form-data">
                  	{% csrf_token %}
                
					    <div>
					    	
            <h1>
              {{what}}
            </h1>
            <table>
              <tr>
            <td>
             <a href="#takephoto" role="button" data-toggle="modal frade" class="btn btn-warning">Take Photo</a>
           </br>
             <label for="uload" style="color: black;">Profile Picture</label>
           </br>
            <input type="file" required="True" name="file" />
            </td>
            <td>
            <label for="uload" style="color: black;">Student IDCard</label>
            </br>
            <input type="file" required="True" name="image"/>
            <br/>
            </td>
            </tr>
        </table>
        </br>
        <table>
            <tr>
            <td>
					    <label for="fname" style="color: black;">First Name</label>
					    <input type="text" id="fname" name="firstname" required="True" placeholder="Your name..">
            </td>
           <!-- &nbsp; &nbsp;  &nbsp;  &nbsp;  --> 
            <td>
					    <label for="lname" style="color: black;">Last Name</label>
					    <input class="required" type="text" id="lname" required="True" name="lastname" placeholder="Your last name..">
					     </td>
              </tr>
            <tr>
              <td>
					    <label for="email" style="color: black;">Email</label>
					    <input type="text" id="email" name="email" placeholder="Email" required="True">
              </td>
              <td>
              <label for="phone" style="color: black;">Mobile Phone</label>
              <input type="text" id="phone" name="phonenumber" required="True" placeholder="Phone Number">
              </td>
              </tr>
              <tr>
                <td>
              
              <label for="School" style="color: black;">School Name</label>
              <input type="text" id="sname" name="sname" required="True" placeholder="School Name">
              </td>
              
                <td>
					    <label for="birthday" style="color: black; ">Birthday</label>
            </br>
              <input type="date" style="border: 2px solid gray;" id="birthday" name="birthday" required="True" placeholder="birthday">
              </td>
              </tr>
              <tr>
                <th>

					    <label for="address" style="color: black;">Address</label>
					    <input type="text" id="address" name="address" required="True" placeholder="Fill Your Address">
              </th>
              </tr>
              <tr>
                <td>
					    <label for="city" style="color: black;">City</label>
					    <select id="city" name="city" required="True">
					      <option value="Kompot">Kompot</option>
					      <option value="PP">PP</option>
					      <option value="Koh Kong">Koh Kong</option>
					    </select>
              </td>
              <td>
					    <label for="country" style="color: black;">Country</label>
					    <select id="country" name="country" required="True">
					      <option value="australia">Japan</option>
					      <option value="canada">India</option>
					      <option value="usa">USA</option>
					    </select>
            </td>
          </tr>
              </table>
                    <div class="form-check">
                      <label class="form-check-label">
                        <input class="form-check-input" type="checkbox" value="" checked>
                        <span class="form-check-sign">
                          <span class="check"></span>
                        </span>
                        I agree to the
                        <a href="#something">terms and conditions</a>.
                      </label>
                    </div>
                    <input type="submit" name="" value="Register"/>
                    
                    </div>
                  </form>
                  <!-- Advanced Modal -->
                          <div id="takephoto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" >
                            <div class="modal-header">
                              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h3 id="myModalLabel">Camara</h3>
                            </div>
                            <div class="modal-body">
                              <!-- Configure a few settings -->
                              <script language="JavaScript">
                                document.write( webcam.get_html(350, 250) );
                              </script>
                            </div>
                            <div class="modal-footer">
                              <a href="#" class="btn">Close</a>
                              <button class="btn btn-primary" onClick="take_snapshot()">Capture Photo</button>
                            </div>
                          </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>
{% endblock content %}
	{% block extra_js %}
  <!-- Code to handle the server response -->
  <script language="JavaScript">
    function take_snapshot() {    
      var cedula = document.getElementById('cedula').value;
      webcam.set_api_url( '/save_image/'+escape(cedula)+'/' );
      webcam.set_hook( 'onComplete', 'my_completion_handler' );
      // take snapshot and upload to server
      webcam.snap();
    }
    function my_completion_handler(msg) {
      if (msg.match(/(\/media\/\S+)/)) {
        var image_url = RegExp.$1;
        // show JPEG image in page
        document.getElementById('fotoview').innerHTML =
          '<label>Fotografía</label>' +
          '<img src="' + image_url + '" class="img-polaroid" >';
        // reset camera for another shot
        webcam.reset();
      }
      else alert("Python Error: " + msg);
    }
  </script>
{% endblock extra_js %}
</body>
</html>